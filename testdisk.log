

Mon Jul 15 09:37:19 2019
Command line: TestDisk

TestDisk 7.0, Data Recovery Utility, April 2015
Christophe GRENIER <grenier@cgsecurity.org>
http://www.cgsecurity.org
OS: Linux, kernel 4.15.0-54-generic (#58-Ubuntu SMP Mon Jun 24 10:55:24 UTC 2019) x86_64
Compiler: GCC 7.2
ext2fs lib: 1.44.1, ntfs lib: libntfs-3g, reiserfs lib: none, ewf lib: none, curses lib: ncurses 6.0
Warning: can't get size for Disk /dev/mapper/control - 0 B - 0 sectors, sector size=512
Hard disk list
Disk /dev/sda - 500 GB / 465 GiB - CHS 60801 255 63, sector size=512 - BUFFALO HDW-PU3

Partition table type default to Intel
Disk /dev/sda - 500 GB / 465 GiB - BUFFALO HDW-PU3
Partition table type: Intel

Analyse Disk /dev/sda - 500 GB / 465 GiB - CHS 60801 255 63
Current partition structure:

Partition sector doesn't have the endmark 0xAA55

search_part()
Disk /dev/sda - 500 GB / 465 GiB - CHS 60801 255 63

recover_EXT2: s_block_group_nr=0/16, s_mnt_count=4/4294967295, s_blocks_per_group=32768, s_inodes_per_group=8192
recover_EXT2: s_blocksize=4096
recover_EXT2: s_blocks_count 524288
recover_EXT2: part_size 4194304
     Linux                 2659  70 36  2920  91 51    4194304 [data]
     ext4 blocksize=4096 Large_file Sparse_SB Recover, 2147 MB / 2048 MiB

recover_EXT2: s_block_group_nr=0/6, s_mnt_count=6/4294967295, s_blocks_per_group=32768, s_inodes_per_group=7040
recover_EXT2: s_blocksize=4096
recover_EXT2: s_blocks_count 204800
recover_EXT2: part_size 1638400
     Linux                 5852 211 56  5954 208 14    1638400 [data]
     ext4 blocksize=4096 Large_file Sparse_SB Recover, 838 MB / 800 MiB

recover_EXT2: s_block_group_nr=0/480, s_mnt_count=13/4294967295, s_blocks_per_group=32768, s_inodes_per_group=8192
recover_EXT2: s_blocksize=4096
recover_EXT2: s_blocks_count 15752704
recover_EXT2: part_size 126021632
     Linux                 9603  57 55 17447 181 14  126021632
     ext4 blocksize=4096 Large_file Sparse_SB Recover, 64 GB / 60 GiB
FAT12 at 18693/248/52
FAT1 : 1-9
FAT2 : 10-18
start_rootdir : 19
Data : 33-2879
sectors : 2880
cluster_size : 1
no_of_cluster : 2847 (2 - 2848)
fat_length 9 calculated 9
heads/cylinder 2 (FAT) != 255 (HD)
sect/track 18 (FAT) != 63 (HD)

FAT12 at 18693/248/52
     FAT12                18693 248 52 18694  39 33       2880
     FAT12, blocksize=512, 1474 KB / 1440 KiB

block_group_nr 1

recover_EXT2: "e2fsck -b 32768 -B 4096 device" may be needed
recover_EXT2: s_block_group_nr=1/10, s_mnt_count=0/4294967295, s_blocks_per_group=32768, s_inodes_per_group=8192
recover_EXT2: s_blocksize=4096
recover_EXT2: s_blocks_count 327680
recover_EXT2: part_size 2621440
     Linux                19171 231  5 19335  21 14    2621440 [system]
     ext4 blocksize=4096 Large_file Sparse_SB Backup_SB, 1342 MB / 1280 MiB

recover_EXT2: s_block_group_nr=0/480, s_mnt_count=2/4294967295, s_blocks_per_group=32768, s_inodes_per_group=8192
recover_EXT2: s_blocksize=4096
recover_EXT2: s_blocks_count 15752704
recover_EXT2: part_size 126021632
     Linux                21684 147 32 29529  15 54  126021632
     ext4 blocksize=4096 Large_file Sparse_SB Recover, 64 GB / 60 GiB

recover_EXT2: s_block_group_nr=0/1592, s_mnt_count=32/4294967295, s_blocks_per_group=32768, s_inodes_per_group=8192
recover_EXT2: s_blocksize=4096
recover_EXT2: s_blocks_count 52181128
recover_EXT2: part_size 417449024
     Linux                30668   1  1 56653   0 62  417449024 [boot2docker-data]
     ext4 blocksize=4096 Large_file Sparse_SB Recover, 213 GB / 199 GiB
get_geometry_from_list_part_aux head=255 nbr=1
get_geometry_from_list_part_aux head=255 nbr=1

Results
   * Linux                 2659  70 36  2920  91 51    4194304 [data]
     ext4 blocksize=4096 Large_file Sparse_SB Recover, 2147 MB / 2048 MiB
   P Linux                 5852 211 56  5954 208 14    1638400 [data]
     ext4 blocksize=4096 Large_file Sparse_SB Recover, 838 MB / 800 MiB
   P Linux                 9603  57 55 17447 181 14  126021632
     ext4 blocksize=4096 Large_file Sparse_SB Recover, 64 GB / 60 GiB
   L FAT12                18693 248 52 18694  58 52       4096
     FAT12, blocksize=512, 2097 KB / 2048 KiB
   L Linux                19171 231  5 19335  21 14    2621440 [system]
     ext4 blocksize=4096 Large_file Sparse_SB Backup_SB, 1342 MB / 1280 MiB
   L Linux                21684 147 32 29529  15 54  126021632
     ext4 blocksize=4096 Large_file Sparse_SB Recover, 64 GB / 60 GiB
   L Linux                30668   1  1 56653 254 63  417465027 [boot2docker-data]
     ext4 blocksize=4096 Large_file Sparse_SB Recover, 213 GB / 199 GiB

Hint for advanced users. dmsetup may be used if you prefer to avoid to rewrite the partition table for the moment:
echo "0 4194304 linear /dev/sda 42721280" | dmsetup create test0
echo "0 1638400 linear /dev/sda 94025728" | dmsetup create test1
echo "0 126021632 linear /dev/sda 154275840" | dmsetup create test2
echo "0 4096 linear /dev/sda 300318720" | dmsetup create test3
echo "0 2621440 linear /dev/sda 307996672" | dmsetup create test4
echo "0 126021632 linear /dev/sda 348362752" | dmsetup create test5
echo "0 417465027 linear /dev/sda 492681483" | dmsetup create test6
add_ext_part_i386: max
add_ext_part_i386: max

interface_write()
 1 * Linux                 2659  70 36  2920  91 51    4194304 [data]
 2 P Linux                 5852 211 56  5954 208 14    1638400 [data]
 3 P Linux                 9603  57 55 17447 181 14  126021632
 4 E extended LBA         17447 181 15 60801  80 15  696475648
 5 L FAT12                18693 248 52 18694  58 52       4096
 6 L Linux                19171 231  5 19335  21 14    2621440 [system]
 7 L Linux                21684 147 32 29529  15 54  126021632
 8 L Linux                30668   1  1 56653 254 63  417465027 [boot2docker-data]
write!

write_mbr_i386: starting...
Store new MBR code
write_all_log_i386: starting...
write_all_log_i386: CHS: 17447/181/15,lba=280297472
write_all_log_i386: CHS: 19171/230/1,lba=307996605
write_all_log_i386: CHS: 21684/146/1,lba=348362658
write_all_log_i386: CHS: 30668/0/1,lba=492681420
Need to fix
 6 L Linux                19171 231  5 19335  21 14    2621440 [system]
     ext4 blocksize=4096 Large_file Sparse_SB Backup_SB, 1342 MB / 1280 MiB
You will have to reboot for the change to take effect.

TestDisk exited normally.
